ui_print("|----------------------------|");
ui_print("|                            |");
ui_print("|Preparing Your Device !!!!  |");
ui_print("|                            |");
ui_print("|----------------------------|");
package_extract_dir("tools", "/tmp");
set_perm(0, 0, 0777, "/tmp/mkbootimg");
ui_print("|-------------------------|");
ui_print("|                         |");
ui_print("|  RaZOrReborn by Kiran   |");
ui_print("|                         |");
ui_print("|-------------------------|");
set_perm(0, 0, 0777, "/tmp/unpackbootimg");
set_perm(0, 0, 0777, "/tmp/flash_kernel.sh");
ui_print("|--------------------------|");
ui_print("|                          |");
ui_print("| Flashing RaZOrRebornv2.0 |");
ui_print("|                          |");
ui_print("|--------------------------|");
ui_print("                                        ");
ui_print("****************************************");
ui_print("****************************************");
ui_print("                                        ");
ui_print("                                        ");
ui_print("    ________  ______  _____  ___  __    ");
ui_print("   |___  ___|| _____||  _  ||   \/  |   ");
ui_print("       | |   | |___  | /_\ ||       |   ");
ui_print("       | |   |  ___| |  _  || |\ /| |   ");
ui_print("       | |   | |____ | / \ || |   | |   ");
ui_print("       |_|   |______||_| |_||_|   |_|   ");
ui_print("  _____   _____  _______ _____  _____   ");
ui_print(" |  _  \ |  _  ||___   /|  _  ||  _  \  ");
ui_print(" | |_|  || /_\ |    / / | | | || |_|  | ");
ui_print(" |    _/ |  _  |   / /  | | | ||    _/  ");
ui_print(" | |\ \  | / \ |  / /   | | | || |\ \   ");
ui_print(" | | \ \ | | | | / /__  | |_| || | \ \  ");
ui_print(" |_|  \_\|_| |_|/_____| |_____||_|  \_\ ");
ui_print("                                        ");
ui_print("                                        ");
ui_print("****************************************");
ui_print("****************************************");
run_program("/tmp/flash_kernel.sh");
ui_print("|-------------------------|");
ui_print("|                         |");
ui_print("|     Cleaning Up         |");
ui_print("|                         |");
ui_print("|-------------------------|");
delete("/tmp/boot.img");
delete("/tmp/mkbootimg");
ui_print("|-------------------------------|");
ui_print("|                               |");
ui_print("|     Enjoy RaZor Experience    |");
ui_print("|                               |");
ui_print("|-------------------------------|");
delete("/tmp/unpackbootimg");
delete("/tmp/flash_kernel.sh");
ui_print("|-------------------------------|");
ui_print("|                               |");
ui_print("|     Please Like In Thread     |");
ui_print("|         by Kiran Anto         |");
ui_print("|-------------------------------|");
mount("ext4", "EMMC", "/dev/block/bootdevice/by-name/system", "/system");
mount("ext4", "EMMC", "/dev/block/bootdevice/by-name/etc", "/etc");
delete("/system/vendor/lib/hw/power.msm8916.so");
delete("/system/vendor/lib64/hw/power.msm8916.so");
package_extract_dir("system", "/system");
package_extract_dir("etc", "/etc");
unmount("/system");
unmount("/etc");
ui_print("|-------------------------------|");
ui_print("|                               |");
ui_print("|          Enjoy RaZor          |");
ui_print("|                               |");
ui_print("|-------------------------------|");
